---
import { Icon } from "astro-icon";
import { astroI18n, l, t } from "astro-i18n";
import Layout from "../components/Layout.astro";
import { LottiePlayer } from "@lottiefiles/svelte-lottie-player";
import LottieAnimation from "../components/svelte/LottieAnimation.svelte";
import Scene from "../components/svelte/Scene.svelte";
import MainScene from "../components/three/MainScene.svelte";
astroI18n.init(Astro);
---

<Layout title={t("home.title")}>
  <!-- figures -->
  <figure
    class="absolute -top-36 w-screen m-auto inset-x-0 bg-primary h-[200px] right-0 blur-[90px] max-w-[1000px] -z-10">
  </figure>
  <!-- Content -->
  <section
    class="grid place-items-center min-h-[100dvh] relative overflow-hidden">
    <!-- Round shape -->
    <!-- <figure
      class="absolute bottom-52 right-0 bg-secondary h-[10rem] w-[10rem] blur-[80px] translate-x-[70%]">
    </figure> -->

    <div class="m-auto pb-14">
      <figure class="mx-auto md:max-w-[260px] max-w-[200px]">
        <img alt="3D gem" src="/assets/gem.png" class="w-full" />
      </figure>

      <div class="text-center mx-auto max-w-3xl">
        <h1 class="font-semibold text-2xl lg:text-6xl">
          {t("home.hero.title")}
          <span
            class="ml-2 text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-primary">
            {t("home.hero.title-highlight")}
          </span>
        </h1>
        <p class="mt-10 max-w-md mx-auto">
          {t("home.hero.subtitle")}
        </p>
      </div>

      <a
        href="#services"
        aria-label="Scroll down"
        class="bg-transparent border border-neutral-400 rounded-full p-2 md:p-3 mx-auto mt-10 grid place-items-center hover:bg-[#4f4f4f] w-10 h-10">
        <Icon name="ph:arrow-down" />
      </a>
    </div>
  </section>
  <section
    class="w-full bg-glass rounded-lg p-8 flex flex-col md:flex-row md:justify-between md:gap-14">
    <div class="w-full">
      <h2 class="text-3xl text-black dark:text-white">
        What is a 20th century developer
      </h2>
      <p class="mt-4">
        Continiuslly creating stuff with feedback from across many places
        Continiuslly creContiniuslly creating stuff with feedback from across
        many places Continiuslly creating stuff with feedback from across many
        placesating stuff with feedback from across many places
      </p>
    </div>
    <div
      class="bg-gray-500 rounded-2xl w-full min-h-[30dvh] grid place-items-center">
      <LottieAnimation client:load />
      <MainScene client:load />
    </div>
  </section>

  <!-- Services -->
  <section class="min-h-screen mt-[15dvh]" id="services">
    <div class="mx-auto text-center">
      <h2 class="font-semibold text-black dark:text-white text-4xl">
        {t("home.services.title")}
      </h2>
      <h3
        class="text-2xl font-medium text-gradient mt-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-primary">
        {t("home.services.subtitle")}
      </h3>
    </div>

    <div class="flex justify-around max-w-6xl mx-auto mt-40 items-center">
      <!-- Card -->
      {
        [0, 1, 2].map((index) => (
          <div
            class={`group max-w-[200px]  ${
              index == 0 || index == 2 ? "w-[25%]" : "w-[30%]"
            }`}>
            <div
              class="min-h-[100px]   max-h-[300px] w-full rounded-tl-lg rounded-br-lg   md:rounded-tl-[40px] md:rounded-br-[40px] bg-indigo-300"
              style="aspect-ratio: 1/1.20;"
            />
            <a
              href={l("/portfolio")}
              class="flex items-center gap-1 pt-2 justify-center md:justify-start">
              <p class="text-text text-xs md:text-lg text-center md:text-left ">
                {t("home.services.service", { i: index })}
              </p>
              <span class="hidden md:block icon-[carbon--arrow-right] h-5 w-5 group-hover:translate-x-2 transition-all" />
            </a>
          </div>
        ))
      }
    </div>
  </section>
  <!-- About -->
  <section class="mx-auto text-center">
    <h4 class="heading-2 font-semibold text-text max-w-xl mx-auto">
      {t("home.interested")}
    </h4>
    <p class="mt-20 text-lg">{t("home.learn-more")}</p>

    <a
      href={l("/about")}
      aria-label="About me"
      class="inline-block bg-transparent border border-neutral-400 rounded-full p-2 md:p-3 mx-auto mt-10 grid place-items-center hover:bg-#4f4f4f">
      <p class="bg-neutral-400 focus:outline-2 i-carbon-arrow-right"></p>
    </a>
  </section>
  <!-- Contact  -->
  <section
    class="bg-glass rounded-t-lg text-center grid place-items-center mt-28 h-70vh relative overflow-hidden">
    <div
      class="absolute bottom-10 left-0 bg-secondary h-100px w-100px blur-100px -z-10">
    </div>

    <div
      class="absolute top-0 right-0 -z-10 bg-primary h-100px w-100px blur-100px">
    </div>
    <p class="heading-1 text-text font-semibold" set:html={t("home.contact")} />
  </section>
</Layout>
